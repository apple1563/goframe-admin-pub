import{g as $}from"./detail-53ac4154.js";import q from"./Product-4280a926.js";import{d as H,r as g,j as J,m as n,o as u,c as d,a as t,q as a,b as c,F as C,t as N,v as h,z as p,s as I,M as b,x as r,e as x,p as Q,f as W,g as X}from"./index-fd6a2e45.js";const z=[{name:"合同名称",value:"总部办公用品采购项目",type:null},{name:"合同状态",value:"履行中",type:{key:"contractStatus",value:"inProgress"}},{name:"合同编号",value:"BH00010",type:null},{name:"合同类型",value:"主合同",type:null},{name:"合同收付类型",value:"付款",type:null},{name:"合同金额",value:"5,000,000元",type:null},{name:"甲方",value:"腾讯科技（深圳）有限公司",type:null},{name:"乙方",value:"欧尚",type:null},{name:"合同签订日期",value:"2020-12-20",type:null},{name:"合同生效日期",value:"2021-01-20",type:null},{name:"合同结束日期",value:"2022-12-20",type:null},{name:"合同附件",value:"总部办公用品采购项目合同.pdf",type:{key:"contractAnnex",value:"pdf"}},{name:"备注",value:"--",type:null},{name:"创建时间",value:"2020-12-22 10:00:00",type:null}],Y=[{width:280,ellipsis:!0,colKey:"index",title:"申请号",sorter:(l,o)=>l.index.substr(3)-o.index.substr(3)},{width:200,ellipsis:!0,colKey:"pdName",title:"产品名称",sorter:(l,o)=>l.pdName.length-o.pdName.length},{width:200,ellipsis:!0,colKey:"pdNum",title:"产品编号"},{width:160,ellipsis:!0,colKey:"purchaseNum",title:"采购数量",sorter:(l,o)=>l.purchaseNum-o.purchaseNum},{width:160,ellipsis:!0,colKey:"adminName",title:"申请部门"},{width:200,ellipsis:!0,colKey:"updateTime",title:"创建时间",sorter:(l,o)=>Date.parse(l.updateTime)-Date.parse(o.updateTime)},{align:"left",fixed:"right",width:200,className:"test2",colKey:"op",title:"操作"}],Z=[{name:"MacBook Pro 2021",subtitle:"苹果公司（Apple Inc. ）",size:"13.3 英寸",cpu:"Apple M1",memory:"RAM 16GB",info:"最高可选配 16GB 内存 · 最高可选配 2TB 存储设备 电池续航最长达 18 小时",use:1420,stock:1500},{name:"Surface Laptop Go",subtitle:"微软（Microsoft Corporation）",size:"12.4 英寸",cpu:"Core i7",memory:"RAM 16GB",info:"常规使用 Surface，续航时间最长可达13小时 随时伴您工作",use:120,stock:2e3}],ee=l=>(Q("data-v-fbd0edd5"),l=l(),W(),l),te={class:"detail-advanced"},ae={class:"info-block"},ne={key:0},le={class:"product-add"},oe={class:"product-sub"},se=ee(()=>c("span",null,"新增产品",-1)),ue={class:"dialog-info-block"},ce={key:0},re={name:"DetailAdvanced"},de=H({...re,setup(l){const o=g([]),k=g({defaultPageSize:10,total:100,defaultCurrent:1}),m=g(0),D=()=>{setInterval(()=>{m.value>5&&(m.value=-1),m.value+=1},2e3)},M=async()=>{try{const{list:s}=await $();o.value=s,k.value={...k.value,total:s.length}}catch(s){console.log(s)}};J(()=>{D(),M()});const v=g(!1),K=s=>{console.log(s)},V=(s,_)=>{console.log("统一Change",s,_)},L=()=>{v.value=!0},G=s=>{o.value.splice(s.rowIndex,1)},O=()=>{v.value=!1};return(s,_)=>{const f=n("t-card"),y=n("t-step-item"),U=n("t-steps"),S=n("t-row"),w=n("t-radio-button"),E=n("t-radio-group"),A=n("t-icon"),B=n("t-col"),T=n("t-tag"),P=n("t-link"),F=n("t-space"),R=n("t-table"),j=n("t-dialog");return u(),d("div",te,[t(f,{title:"基本信息",bordered:!1},{default:a(()=>[c("div",ae,[(u(!0),d(C,null,N(h(z),(e,i)=>(u(),d("div",{key:i,class:"info-item"},[c("h1",null,p(e.name),1),c("span",{class:I({inProgress:e.type&&e.type.value==="inProgress",pdf:e.type&&e.type.value==="pdf"})},[e.type&&e.type.key==="contractStatus"?(u(),d("i",ne)):b("",!0),r(" "+p(e.value),1)],2)]))),128))])]),_:1}),t(f,{title:"发票进度",class:"container-base-margin-top",bordered:!1},{default:a(()=>[t(S,{justify:"space-between"},{default:a(()=>[t(U,{current:m.value},{default:a(()=>[t(y,{title:"申请提交",content:"已于12月21日提交"}),t(y,{title:"电子发票",content:"预计1～3个工作日"}),t(y,{title:"发票已邮寄",content:"电子发票开出后7个工作日联系"}),t(y,{title:"完成",content:""})]),_:1},8,["current"])]),_:1})]),_:1}),t(f,{title:"产品目录",class:"container-base-margin-top",bordered:!1},{actions:a(()=>[t(E,{"default-value":"dateVal"},{default:a(()=>[t(w,{value:"dateVal"},{default:a(()=>[r(" 季度 ")]),_:1}),t(w,{value:"monthVal"},{default:a(()=>[r(" 月份 ")]),_:1})]),_:1})]),default:a(()=>[t(S,{gutter:16,class:"product-block-container"},{default:a(()=>[t(B,{xl:4},{default:a(()=>[c("div",le,[c("div",oe,[t(A,{name:"add",class:"product-sub-icon"}),se])])]),_:1}),(u(!0),d(C,null,N(h(Z),(e,i)=>(u(),x(B,{key:i,xl:4},{default:a(()=>[t(q,{data:e},null,8,["data"])]),_:2},1024))),128))]),_:1})]),_:1}),t(f,{title:"产品采购明细",class:"container-base-margin-top",bordered:!1},{default:a(()=>[t(R,{columns:h(Y),data:o.value,pagination:k.value,hover:!0,stripe:!0,"row-key":"index",size:"large",onSortChange:K,onChange:V},{pdName:a(({row:e})=>[c("span",null,[r(p(e.pdName)+" ",1),e.pdType?(u(),x(T,{key:0,size:"medium",style:{"margin-left":"var(--td-comp-margin-s)"}},{default:a(()=>[r(p(e.pdType),1)]),_:2},1024)):b("",!0)])]),purchaseNum:a(({row:e})=>[c("span",null,[r(p(e.purchaseNum)+" ",1),e.purchaseNum>50?(u(),x(T,{key:0,theme:"danger",variant:"light",size:"medium",style:{"margin-left":"var(--td-comp-margin-s)"}},{default:a(()=>[r("超预算")]),_:1})):b("",!0)])]),op:a(e=>[t(F,null,{default:a(()=>[t(P,{theme:"primary",onClick:_[0]||(_[0]=i=>L())},{default:a(()=>[r("管理")]),_:1}),t(P,{theme:"danger",onClick:i=>G(e)},{default:a(()=>[r("删除")]),_:2},1032,["onClick"])]),_:2},1024)]),"op-column":a(()=>[t(A,{name:"descending-order"})]),_:1},8,["columns","data","pagination"])]),_:1}),t(j,{visible:v.value,"onUpdate:visible":_[1]||(_[1]=e=>v.value=e),header:"基本信息",onConfirm:O},{body:a(()=>[c("div",ue,[(u(!0),d(C,null,N(h(z),(e,i)=>(u(),d("div",{key:i,class:"info-item"},[c("h1",null,p(e.name),1),c("span",{class:I({inProgress:e.type&&e.type.value==="inProgress",pdf:e.type&&e.type.value==="pdf"})},[e.type&&e.type.key==="contractStatus"?(u(),d("i",ce)):b("",!0),r(" "+p(e.value),1)],2)]))),128))])]),_:1},8,["visible"])])}}});const me=X(de,[["__scopeId","data-v-fbd0edd5"]]);export{me as default};
