import{d as C,aj as O,r as _,w as R,m as o,o as U,c as h,a as e,q as l,v as c,x as f,b0 as y,N as p}from"./index-fd6a2e45.js";import{I,R as N}from"./constants-c605bb85.js";const L=C({__name:"EditRole",setup(S){const s=O(),m=_(null),t=_(I);R(()=>s.editVisible,n=>{n&&(t.value=s.currentRow)});const v=()=>{s.setEditVisible(!1)},b=()=>{m.value.reset()},V=()=>{m.value.validate({showErrorMessage:!0}).then(async n=>{var a,d;if(n===!0){await y(t.value),p.success("编辑成功"),s.setEditVisible(!1),s.getRoleList();return}if(n&&Object.keys(n).length){const u=(d=(a=Object.values(n)[0])==null?void 0:a[0])==null?void 0:d.message;p.warning(u)}})};return(n,a)=>{const d=o("t-input"),u=o("t-form-item"),i=o("t-radio-button"),g=o("t-radio-group"),w=o("t-input-number"),k=o("t-form"),E=o("t-space"),x=o("t-drawer");return U(),h("div",null,[e(x,{size:"large",visible:c(s).editVisible,header:"编辑角色","on-confirm":V,onClose:v},{default:l(()=>[e(E,{direction:"vertical",size:"large",style:{width:"100%"}},{default:l(()=>[e(k,{ref_key:"form",ref:m,data:t.value,rules:c(N),onReset:b},{default:l(()=>[e(u,{label:"名称",name:"name"},{default:l(()=>[e(d,{modelValue:t.value.name,"onUpdate:modelValue":a[0]||(a[0]=r=>t.value.name=r),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),e(u,{label:"状态",name:"status"},{default:l(()=>[e(g,{modelValue:t.value.status,"onUpdate:modelValue":a[1]||(a[1]=r=>t.value.status=r),"default-value":2},{default:l(()=>[e(i,{value:1},{default:l(()=>[f("启用")]),_:1}),e(i,{value:2},{default:l(()=>[f("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"排序",name:"listOrder"},{default:l(()=>[e(w,{modelValue:t.value.listOrder,"onUpdate:modelValue":a[2]||(a[2]=r=>t.value.listOrder=r),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),e(u,{label:"备注",name:"remark"},{default:l(()=>[e(d,{modelValue:t.value.remark,"onUpdate:modelValue":a[3]||(a[3]=r=>t.value.remark=r),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1},8,["data","rules"])]),_:1})]),_:1},8,["visible"])])}}});export{L as _};
