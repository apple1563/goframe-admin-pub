import{d as y,r as f,a0 as k,m as r,o as U,c as w,a as l,q as n,v as c,a1 as C,N as p}from"./index-fd6a2e45.js";import{R as D}from"./constants-39c82991.js";const S=y({__name:"AddDict",setup(N){const m=f(null),a=f({configKey:"",configValue:""}),d=k(),i=()=>{d.setAddVisible(!1)},g=()=>{m.value.reset()},_=()=>{m.value.validate({showErrorMessage:!0}).then(async s=>{var e,t;if(s===!0){await C({...a.value}),p.success("添加成功"),d.getDictList(),i();return}if(s&&Object.keys(s).length){const u=(t=(e=Object.values(s)[0])==null?void 0:e[0])==null?void 0:t.message;p.warning(u)}})};return(s,e)=>{const t=r("t-input"),u=r("t-form-item"),V=r("t-form"),v=r("t-space"),b=r("t-dialog");return U(),w("div",null,[l(b,{size:"large",visible:c(d).addVisible,header:"添加字典","on-confirm":_,onClose:i},{default:n(()=>[l(v,{direction:"vertical",size:"large",style:{width:"100%"}},{default:n(()=>[l(V,{ref_key:"form",ref:m,data:a.value,rules:c(D),onReset:g},{default:n(()=>[l(u,{label:"字典类型",name:"configType"},{default:n(()=>[l(t,{modelValue:a.value.configType,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.configType=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(u,{label:"参数名称",name:"configName"},{default:n(()=>[l(t,{modelValue:a.value.configName,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.configName=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(u,{label:"字典key",name:"configKey"},{default:n(()=>[l(t,{modelValue:a.value.configKey,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.configKey=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(u,{label:"字典value",name:"configValue"},{default:n(()=>[l(t,{modelValue:a.value.configValue,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.configValue=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(u,{label:"备注",name:"remark"},{default:n(()=>[l(t,{modelValue:a.value.remark,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.remark=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1},8,["data","rules"])]),_:1})]),_:1},8,["visible"])])}}});export{S as _};
