import{d as f,aj as b,r as c,ax as g,w as M,aZ as w,m as o,o as V,c as k,a as n,q as u,v as y,a_ as C,N as P}from"./index-9f7c584d.js";const x=f({__name:"AuthMenu",setup(R){const e=b(),d={keys:{label:"title",value:"id",children:"children"}},a=c([]),s=c(),l=g();l.getMenuTreeList().then(()=>{a.value=l.menuTreeList}),M(()=>e.menuPermissionVisible,r=>{r&&w(e.currentRow.id).then(t=>{s.value=t.list})});const i=()=>{e.setMenuPermissionVisible(!1)},m=async()=>{await C(e.currentRow.id,s.value),P.success("设置成功").then(),i()};return(r,t)=>{const p=o("t-cascader"),_=o("t-space"),v=o("t-dialog");return V(),k("div",null,[n(v,{size:"large",visible:y(e).menuPermissionVisible,header:"菜单权限设置","on-confirm":m,onClose:i},{default:u(()=>[n(_,{direction:"vertical",size:"large",style:{width:"100%"}},{default:u(()=>[n(p,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=h=>s.value=h),"value-mode":"all",keys:d.keys,options:a.value,multiple:"",clearable:"","min-collapsed-num":6,placeholder:"请选择"},null,8,["modelValue","keys","options"])]),_:1})]),_:1},8,["visible"])])}}});export{x as _};
