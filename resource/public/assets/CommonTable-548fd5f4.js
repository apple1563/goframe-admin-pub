import{d as $,a0 as E,u as O,r as _,i as C,j,a2 as q,m as i,o as I,c as Q,a as e,q as a,v as n,Q as D,x as d,b as G,a3 as H,N as J,g as X}from"./index-fd6a2e45.js";import{C as Y}from"./constants-39c82991.js";const Z={class:"list-common-table"},ee={class:"table-container"},te="index",ae="top",oe=!0,ne=$({__name:"CommonTable",setup(le){const t=E(),x=O(),g=_(null),m=_(!1),u=_(-1),k=C(()=>u.value>-1?"删除后，字典无法恢复":""),y=()=>{u.value=-1},F=async()=>{await H(u.value),m.value=!1,J.success("删除成功"),y(),t.getDictList()},w=()=>{y()};j(()=>{t.getDictList()});const B=s=>{u.value=s.row.id,m.value=!0},S=s=>{g.value.reset(),console.log(s)},h=()=>{t.getDictList()},T=(s,o)=>{console.log("分页变化",s,o),t.setPagination({...t.pagination,current:s.current,pageSize:s.pageSize}),h()},U=(s,o)=>{console.log("统一Change",s,o)},L=s=>{t.setCurrentRow(s.row),K()},N=C(()=>({offsetTop:x.isUseTabsRouter?48:0,container:`.${q}-layout`})),W=()=>{t.setAddVisible(!0)},K=()=>{t.setEditVisible(!0)};return(s,o)=>{const p=i("t-input"),c=i("t-form-item"),r=i("t-col"),b=i("t-input-number"),v=i("t-row"),f=i("t-button"),z=i("t-form"),V=i("t-link"),A=i("t-space"),M=i("t-table"),P=i("t-dialog");return I(),Q("div",Z,[e(z,{ref_key:"form",ref:g,data:n(t).searchFormData,"label-width":80,colon:"",onReset:S,onSubmit:h},{default:a(()=>[e(v,null,{default:a(()=>[e(r,{span:10},{default:a(()=>[e(v,{gutter:[24,24]},{default:a(()=>[e(r,{span:4},{default:a(()=>[e(c,{label:"字典类型",name:"configType"},{default:a(()=>[e(p,{modelValue:n(t).searchFormData.configType,"onUpdate:modelValue":o[0]||(o[0]=l=>n(t).searchFormData.configType=l),class:"form-item-content",type:"search",placeholder:"请输入字典类型",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:4},{default:a(()=>[e(c,{label:"参数键名",name:"configKey"},{default:a(()=>[e(p,{modelValue:n(t).searchFormData.configKey,"onUpdate:modelValue":o[1]||(o[1]=l=>n(t).searchFormData.configKey=l),class:"form-item-content",type:"search",placeholder:"请输入参数键名",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:4},{default:a(()=>[e(c,{label:"参数键值",name:"configValue"},{default:a(()=>[e(p,{modelValue:n(t).searchFormData.configValue,"onUpdate:modelValue":o[2]||(o[2]=l=>n(t).searchFormData.configValue=l),class:"form-item-content",type:"search",placeholder:"请输入参数键值",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:4},{default:a(()=>[e(c,{label:"参数名称",name:"configName"},{default:a(()=>[e(p,{modelValue:n(t).searchFormData.configName,"onUpdate:modelValue":o[3]||(o[3]=l=>n(t).searchFormData.configName=l),class:"form-item-content",type:"search",placeholder:"请输入参数名称",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:4},{default:a(()=>[e(c,{label:"创建者id",name:"createBy"},{default:a(()=>[e(b,{modelValue:n(t).searchFormData.createBy,"onUpdate:modelValue":o[4]||(o[4]=l=>n(t).searchFormData.createBy=l),class:"form-item-content",type:"search",placeholder:"请输入创建者id",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:4},{default:a(()=>[e(c,{label:"更新者id",name:"updateBy"},{default:a(()=>[e(b,{modelValue:n(t).searchFormData.updateBy,"onUpdate:modelValue":o[5]||(o[5]=l=>n(t).searchFormData.updateBy=l),class:"form-item-content",type:"search",placeholder:"请输入更新者id",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{span:2,class:"operation-container"},{default:a(()=>[e(f,{theme:"primary",type:"button",style:D({marginLeft:"var(--td-comp-margin-s)"}),onClick:W},{default:a(()=>[d(" 添加 ")]),_:1},8,["style"]),e(f,{theme:"primary",type:"submit",style:D({marginLeft:"var(--td-comp-margin-s)"})},{default:a(()=>[d(" 查询 ")]),_:1},8,["style"]),e(f,{type:"reset",variant:"base",theme:"default"},{default:a(()=>[d(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),G("div",ee,[e(M,{data:n(t).dictList,columns:n(Y),"row-key":te,"vertical-align":ae,hover:oe,pagination:n(t).pagination,loading:n(t).dataLoading,"header-affixed-top":N.value,onPageChange:T,onChange:U},{op:a(l=>[e(A,null,{default:a(()=>[e(V,{theme:"primary",onClick:R=>L(l)},{default:a(()=>[d("编辑")]),_:2},1032,["onClick"]),e(V,{theme:"danger",onClick:R=>B(l)},{default:a(()=>[d("删除")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["data","columns","pagination","loading","header-affixed-top"]),e(P,{visible:m.value,"onUpdate:visible":o[6]||(o[6]=l=>m.value=l),header:"确认删除当前字典？",body:k.value,"on-cancel":w,onConfirm:F},null,8,["visible","body"])])])}}});const re=X(ne,[["__scopeId","data-v-38b9f37c"]]);export{re as default};
