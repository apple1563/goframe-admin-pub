import{d as y,a0 as k,r as c,w,m as i,o as E,c as N,a,q as n,v as f,a4 as U,N as p}from"./index-9f7c584d.js";import{R as C}from"./constants-39c82991.js";const S=y({__name:"EditDict",setup(D){const s=k(),m=c(null),e=c({configType:"",configName:"",remark:"",configKey:"",configValue:""});w(()=>s.editVisible,u=>{u&&(e.value=s.currentRow)});const d=()=>{s.setEditVisible(!1)},g=()=>{m.value.reset()},_=()=>{m.value.validate({showErrorMessage:!0}).then(async u=>{var l,t;if(u===!0){await U({...e.value}),p.success("修改成功"),s.getDictList(),d();return}if(u&&Object.keys(u).length){const r=(t=(l=Object.values(u)[0])==null?void 0:l[0])==null?void 0:t.message;p.warning(r)}})};return(u,l)=>{const t=i("t-input"),r=i("t-form-item"),V=i("t-form"),v=i("t-space"),b=i("t-dialog");return E(),N("div",null,[a(b,{size:"large",visible:f(s).editVisible,header:"修改字典","on-confirm":_,onClose:d},{default:n(()=>[a(v,{direction:"vertical",size:"large",style:{width:"100%"}},{default:n(()=>[a(V,{ref_key:"form",ref:m,data:e.value,rules:f(C),onReset:g},{default:n(()=>[a(r,{label:"字典类型",name:"configType"},{default:n(()=>[a(t,{modelValue:e.value.configType,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.configType=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),a(r,{label:"参数名称",name:"configName"},{default:n(()=>[a(t,{modelValue:e.value.configName,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.configName=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),a(r,{label:"字典key",name:"configKey"},{default:n(()=>[a(t,{modelValue:e.value.configKey,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.configKey=o),disabled:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),a(r,{label:"字典value",name:"configValue"},{default:n(()=>[a(t,{modelValue:e.value.configValue,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.configValue=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),a(r,{label:"备注",name:"remark"},{default:n(()=>[a(t,{modelValue:e.value.remark,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.remark=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1},8,["data","rules"])]),_:1})]),_:1},8,["visible"])])}}});export{S as _};
